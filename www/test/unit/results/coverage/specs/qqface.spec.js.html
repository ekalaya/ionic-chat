<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for specs\qqface.spec.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../prettify.css" />
    <link rel="stylesheet" href="../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../index.html">all files</a> / <a href="index.html">specs/</a> qqface.spec.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>29/29</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/0</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">87.5% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>7/8</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>29/29</span>
      </div>
    </div>
  </div>
  <div class='status-line high'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/* globals inject */
describe('qqFace Directive', function () {
    var scope;
    var element;
    var root;
&nbsp;
    beforeEach(function () {
        module('chat.directive');
    });
&nbsp;
    beforeEach(inject(function ($rootScope, $compile,_$httpBackend_) {
        $httpBackend = _$httpBackend_;
        $httpBackend.when('GET', 'dev/static/tab_chat/directives/qqface/qqface.tpl').respond( 
            ['&lt;div class="qq_face " ng-click="chooseFace($event)"&gt;',
'            &lt;a title="微笑" type="qq" class="face qqface0"&gt;微笑&lt;/a&gt;',
'            &lt;a title="撇嘴" type="qq" class="face qqface1"&gt;撇嘴&lt;/a&gt;',
'            &lt;a title="色" type="qq" class="face qqface2"&gt;色&lt;/a&gt;',
'            &lt;a title="发呆" type="qq" class="face qqface3"&gt;发呆&lt;/a&gt;',
'            &lt;a title="得意" type="qq" class="face qqface4"&gt;得意&lt;/a&gt;',
'            &lt;a title="流泪" type="qq" class="face qqface5"&gt;流泪&lt;/a&gt;',
'            &lt;a title="害羞" type="qq" class="face qqface6"&gt;害羞&lt;/a&gt;',
'            &lt;a title="闭嘴" type="qq" class="face qqface7"&gt;闭嘴&lt;/a&gt;',
'            &lt;a title="睡" type="qq" class="face qqface8"&gt;睡&lt;/a&gt;',
'            &lt;a title="大哭" type="qq" class="face qqface9"&gt;大哭&lt;/a&gt;',
'            &lt;a title="尴尬" type="qq" class="face qqface10"&gt;尴尬&lt;/a&gt;',
'            &lt;a title="发怒" type="qq" class="face qqface11"&gt;发怒&lt;/a&gt;',
'            &lt;a title="调皮" type="qq" class="face qqface12"&gt;调皮&lt;/a&gt;',
'            &lt;a title="呲牙" type="qq" class="face qqface13"&gt;呲牙&lt;/a&gt;',
'            &lt;a title="惊讶" type="qq" class="face qqface14"&gt;惊讶&lt;/a&gt;',
'            &lt;a title="难过" type="qq" class="face qqface15"&gt;难过&lt;/a&gt;',
'            &lt;a title="酷" type="qq" class="face qqface16"&gt;酷&lt;/a&gt;',
'            &lt;a title="冷汗" type="qq" class="face qqface17"&gt;冷汗&lt;/a&gt;',
'            &lt;a title="抓狂" type="qq" class="face qqface18"&gt;抓狂&lt;/a&gt;',
'            &lt;a title="吐" type="qq" class="face qqface19"&gt;吐&lt;/a&gt;',
'            &lt;a title="偷笑" type="qq" class="face qqface20"&gt;偷笑&lt;/a&gt;',
'            &lt;a title="愉快" type="qq" class="face qqface21"&gt;愉快&lt;/a&gt;',
'            &lt;a title="白眼" type="qq" class="face qqface22"&gt;白眼&lt;/a&gt;',
'            &lt;a title="傲慢" type="qq" class="face qqface23"&gt;傲慢&lt;/a&gt;',
'            &lt;a title="饥饿" type="qq" class="face qqface24"&gt;饥饿&lt;/a&gt;',
'            &lt;a title="困" type="qq" class="face qqface25"&gt;困&lt;/a&gt;',
'            &lt;a title="惊恐" type="qq" class="face qqface26"&gt;惊恐&lt;/a&gt;',
'            &lt;a title="流汗" type="qq" class="face qqface27"&gt;流汗&lt;/a&gt;',
'            &lt;a title="憨笑" type="qq" class="face qqface28"&gt;憨笑&lt;/a&gt;',
'            &lt;a title="悠闲" type="qq" class="face qqface29"&gt;悠闲&lt;/a&gt;',
'        &lt;/div&gt;'].join("")
        );
        scope = $rootScope.$new();
        scope.showWXFace = true;
        root = $compile('&lt;qq-face ng-show="showWXFace" select-qq-face="selectQQFace"&gt;&lt;/qq-face&gt;')(scope);
        $httpBackend.flush();
        element = root.find('a');
    }));
&nbsp;
    it('qq-face test start!', function () {
        scope.$digest();
        expect(element.chooseFace).toEqual(undefined);
    });
&nbsp;
    it('test dom!', function () {
        scope.$digest();
        expect(element.attr('disabled')).not.toBeDefined();
        console.log("angular.element:", element.length);
        expect(angular.element(element).attr('class')).toEqual("face qqface0");
    });
&nbsp;
    it('test chooseFace funtion!', function () {
        scope.$digest();
        expect(root.isolateScope().chooseFace).toBeDefined();
    });
&nbsp;
     it('test isolateScope selectQqFace!', function () {
        scope.selectQQFace = <span class="fstat-no" title="function not covered" >function (ee) {</span>};
        // 错误示范
        // spyOn(element, 'selectQqFace');
        scope.$digest();
        expect(root.isolateScope().justTest()).toBeTruthy();
    });
&nbsp;
    
});
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Fri Jan 13 2017 14:39:52 GMT+0800 (中国标准时间)
</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
